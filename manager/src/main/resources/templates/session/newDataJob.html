<form role="form" id="dataJobForm" th:fragment="newJobForm" th:object="${stagedDataJob}">
    <div class="form-group">
        <label for="dataSourceSelect">Data Source</label>
        <select class="form-control" id="dataSourceSelect" th:field="*{dataSourceName}">
            <option value=""></option>
            <option value="facebook">Facebook</option>
            <option value="LinkedIn">LinkedIn</option>
            <option value="reddit">Reddit</option>
        </select>
    </div>
    <div class="form-group">
        <label>Data Ingest Type</label>
        <div id="ingestTypeContainer">
            <th:block th:each="type, typeStat : *{T(com.agilion.services.DataIngestJobType).values()}">
                <div class="radio">
                    <label>
                        <input type="radio" id="dataJobType" th:value="${type}"
                               onchange="toggleDataFileUpload(this)" th:field="*{ingestJobType}">
                        <span name="jobTypeText" th:text="${type.displayName}"></span>
                    </label>
                </div>
            </th:block>
        </div>
        <div class="hidden" id="dataFileUpload">
            <label>Data File To Upload:</label>
            <input type="file" th:field="*{uploadedFile}">
        </div>
    </div>
    <div class="form-group">
        <label>Steps to gather data on:</label>
        <div id="stepContainer">
            <th:block th:each="step, stepStat : *{executeForSteps}">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="dataStep1" th:value="${step}" th:field="*{executeForSteps[__${stepStat.index}__]}">
                        <span th:text="${step}"></span>
                    </label>
                </div>
            </th:block>
        </div>
    </div>
    <div id="paramContainer">
        <th:block th:each="key, keyStat : *{params}">
            <div class="form-group">
                    <label th:name="${key.key}" th:text="${key.key}"></label>
                    <input class="form-control" type="text" th:field="*{params[__${key.key}__]}" />
            </div>
        </th:block>
    </div>
</form>