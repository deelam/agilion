componentIds=amq, sessions, tasker, jobMgrType, workers


include=startup.props

# ActiveMQ service: shares connectionUrl
amq.classname=net.deelam.coordworkers.AmqServiceComp
amq.brokerUrl=tcp://localhost:33330,stomp://localhost:33331
needsAmq.brokerUrl.ref=amq/connectionUrl


sessions.classname=dataengine.main.SessionsDbComponent
sessions.include=needsAmq

tasker.classname=dataengine.main.TaskerComponent
tasker.include=needsAmq
tasker.jobCreators=dataengine.tasker.jobcreators.AddSourceDataset
tasker.dispatcherComponentType=jobMgrType

jobMgrType.classname=dataengine.main.JobMgrComponent
jobMgrType.include=needsAmq
jobMgrType.msgT.newJobAvailable=jobMgrA_newJobAvailableTopic_toJobConsumers
jobMgrType.msgQ.dispatcherRpcAddr=jobMgrA_dispatcherQueue
jobMgrType.msgQ.jobBoardRpcAddr=jobMgrA_jobBoardQueue

workers.classname=dataengine.main.WorkersComponent
workers.msgT.newJobAvailable=jobMgrA_newJobAvailableTopic_toJobConsumers
// TODO: remove; use jobDto instead
workers.msgQ.dispatcherRpcAddr=jobMgrA_dispatcherQueue
workers.msgQ.jobBoardRpcAddr=jobMgrA_jobBoardQueue
workers.include=needsAmq, 

